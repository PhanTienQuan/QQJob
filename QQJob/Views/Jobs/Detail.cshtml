@model JobDetailViewModel
@{
    ViewBag.Title = Model.JobTitle;
}
<style>
    #description h6 {
        font-weight: 600 !important;
        margin-top: 20px;
        margin-bottom: 15px;
        font-size: 20px;
        color: var(--rts-heading);
        line-height: 30px;
    }
</style>
<!-- breadcrumb area -->
<div class="rts__section breadcrumb__background">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 position-relative d-flex justify-content-between align-items-center">
                <div class="breadcrumb__area max-content breadcrumb__padding">
                    <div class="rts__job__card__big bg-transparent p-0 position-relative z-1 flex-wrap justify-content-between d-flex gap-4 align-items-center">
                        <div class="d-flex gap-4 align-items-center flex-md-row flex-column mx-auto mx-md-0">
                            <div class="company__icon rounded-2 bg-white">
                                <img class="" src="@await Helper.GetUserAvatarUrlAsync(User.Identity?.Name)" alt="">
                            </div>
                            <div class="job__meta w-100 d-flex text-center text-md-start flex-column gap-2">
                                <div class="">
                                    <h3 class="job__title h3 mb-0">@Model.JobTitle</h3>
                                </div>
                                <div class="d-flex gap-3 justify-content-center justify-content-md-start flex-wrap mb-3 mt-2">
                                    <div class="d-flex gap-2 align-items-center">
                                        <i class="fa-light fa-location-dot"></i> @Model.City
                                    </div>
                                    <div class="d-flex gap-2 align-items-center">
                                        <i class="fa-light fa-clock"></i> @Helper.DisplayTime(Model.PostDate)
                                    </div>
                                    <div class="d-flex gap-2 fw-medium align-items-center">
                                        <i class="fa-light rt-price-tag"></i> @Model.Salary / @Model.SalaryType
                                    </div>
                                </div>
                                <div class="job__tags d-flex justify-content-center justify-content-md-start flex-wrap gap-3">
                                    @foreach (var skill in Model.Skills)
                                    {
                                        <a href="#">@skill.SkillName</a>
                                    }
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="breadcrumb__apply max-content">
                        @if (User.IsInRole("Candidate"))
                        {
                            <a href="#" class="rts__btn apply__btn be-1 fill__btn">Apply This Possition</a>
                        }
                    </div>
                </div>
                <div class="breadcrumb__area__shape d-flex gap-4 justify-content-end align-items-center">
                    <div class="shape__one common">
                    </div>
                    <div class="shape__two common">
                        <img src="~/assets/img/breadcrumb/shape-2.svg" alt="">
                    </div>
                    <div class="shape__three common">
                        <img src="~/assets/img/breadcrumb/shape-3.svg" alt="">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- breadcrumb area end -->
<!-- job list one -->
<div class="rts__section section__padding">
    <div class="container">
        <div class="row g-30">
            <div class="col-lg-5 col-xl-4 d-flex flex-column gap-40">
                <div class="job__overview">
                    <h6 class="fw-semibold mb-20">Job Overview</h6>
                    <div class="job__overview__content">
                        <ul>
                            <li class="d-flex flex-wrap gap-3 gap-sm-0 align-items-center justify-content-between">
                                <span class="left-text"><i class="rt-calender"></i>Date Posted</span>
                                <span class="text">@Model.PostDate.ToString("MM/dd/yyyy")</span>
                            </li>
                            <li class="d-flex flex-wrap gap-3 gap-sm-0 align-items-center justify-content-between">
                                <span class="left-text"><i class="rt-loading"></i>Close On</span>
                                <span class="text">@Model.CloseDate.ToString("MM/dd/yyyy")</span>
                            </li>
                            <li class="d-flex flex-wrap gap-3 gap-sm-0 align-items-center justify-content-between">
                                <span class="left-text"><i class="rt-user"></i> Vacancy</span>
                                <span class="text">@(Model.Opening - Model.AppliedCount)</span>
                            </li>
                            <li class="d-flex flex-wrap gap-3 gap-sm-0 align-items-center justify-content-between">
                                <span class="left-text"><i class="rt-experience"></i>Experience Level</span>
                                <span class="text">@Model.ExperienceLevel</span>
                            </li>
                            <li class="d-flex flex-wrap gap-3 gap-sm-0 align-items-center justify-content-between">
                                <span class="left-text"><i class="rt-price-tag"></i>Offered Salary</span>
                                <span class="text">@Model.Salary</span>
                            </li>
                            <li class="d-flex flex-wrap gap-3 gap-sm-0 align-items-center justify-content-between">
                                <span class="left-text"><i class="rt-price-tag"></i>Salary Type</span>
                                <span class="text">@Model.SalaryType</span>
                            </li>
                            <li class="d-flex flex-wrap gap-3 gap-sm-0 align-items-center justify-content-between">
                                <span class="left-text"><i class="rt-price-tag"></i>Job Type</span>
                                <span class="text">@Model.JobType</span>
                            </li>
                            <li class="d-flex flex-wrap gap-3 gap-sm-0 align-items-center justify-content-between">
                                <span class="left-text"><i class="rt-price-tag"></i>Location Requirement</span>
                                <span class="text">@Model.LocationRequirement</span>
                            </li>
                            <li class="d-flex flex-wrap gap-3 gap-sm-0 align-items-center justify-content-between">
                                <span class="left-text"><i class="fa-solid fa-location-dot"></i>Location</span>
                                <span class="text">@Model.City</span>
                            </li>
                            <li class="d-flex flex-wrap gap-3 gap-sm-0 align-items-center justify-content-between">
                                <span class="left-text"><i class="rt-user"></i>Gender</span>
                                <span class="text">Both</span>
                            </li>
                        </ul>
                    </div>
                </div>
                @if (Model.Website != null)
                {
                    <div class="company__card">
                        <div class="icon">
                            <img src="@await Helper.GetUserAvatarUrlAsync(User.Identity?.Name)" alt="Company Logo">
                        </div>
                        <h5 class="company__name mt-20">@Helper.ShortenURL(Model.Website)</h5>
                        <a href="@Model.Website" class="company__link d-block mt-20" aria-label="Visit Company Website" target="_blank">Visit Website</a>
                        @if (User.IsInRole("Candidate"))
                        {
                            <a href="#" class="rts__btn apply__btn mt-40">Apply This Position</a>
                        }
                    </div>
                }
            </div>
            <div class="col-lg-7 col-xl-8">
                <div class="rts__job__details">
                    <div class="rts__tab active__link mb-30">
                         
                         <nav>
                         <div class="nav nav-tabs">
                         <a class="nav-link active" href="#all">All</a>
                         <a class="nav-link" href="#description">Job Description</a>
                         <a class="nav-link" href="#skill">Skill</a>
                         </div>
                         </nav>
                        
                    </div>

                    <!-- Job Description -->
                    <div id="description" class="mb-30 list-style-dot">
                        @Html.Raw(Model.Description)
                    </div>

                    <!-- Skills and Experience -->
                    <div id="skill" class="mb-30">
                        <h6 class="fw-semibold mb-20">Skills: </h6>
                        <div class="job__tags job__details__tags">
                            @foreach (var skill in Model.Skills)
                            {
                                <a href="#" class="job__tag">@skill.SkillName</a>
                            }
                        </div>
                    </div>

                    <!-- Share Options -->
                    <div class="d-flex flex-wrap gap-4 mt-40 mb-30">
                        <div class="d-flex gap-3 align-items-center">
                            <span class="h6 fw-semibold">Share</span>
                            <div class="rts__social d-flex gap-3">
                                <a href="https://facebook.com" target="_blank" aria-label="facebook">
                                    <i class="fa-brands fa-facebook"></i>
                                </a>
                                <a href="https://instagram.com" target="_blank" aria-label="instagram">
                                    <i class="fa-brands fa-instagram"></i>
                                </a>
                                <a href="https://linkedin.com" target="_blank" aria-label="linkedin">
                                    <i class="fa-brands fa-linkedin"></i>
                                </a>
                                <a href="https://pinterest.com" target="_blank" aria-label="pinterest">
                                    <i class="fa-brands fa-pinterest"></i>
                                </a>
                                <a href="https://youtube.com" target="_blank" aria-label="youtube">
                                    <i class="fa-brands fa-youtube"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>
<!-- job list one end -->
<!-- Related Jobs -->
<div class="rts__section pb-120 overflow-hidden">
    <div class="container">
        <div class="row justify-content-center position-relative">
            <div class="col-xl-6 col-lg-10">
                <div class="rts__section__content text-center mb-60">
                    <h3 class="rts__section__title section__mb">Related Jobs</h3>
                    <p class="rts__section__desc">Looking for your next career opportunity? Look no further.</p>
                </div>
            </div>
            <div class="rts__slider__control d-none d-md-flex style-gray z-3 w-100 justify-content-between g-0 position-absolute top-50 translate-middle-y">
                <div class="rts__slide__next slider__btn"><i class="fa-solid fa-chevron-left"></i></div>
                <div class="rts__slide__prev slider__btn"><i class="fa-solid fa-chevron-right"></i></div>
            </div>
        </div>
        <div class="row swiper-data overflow-hidden" data-swiper='{
            "slidesPerView": 4.1,
            "autoplay": true,
            "loop": false,
            "navigation": {
                "nextEl": ".rts__slide__next",
                "prevEl": ".rts__slide__prev"
            },
            "breakpoints": {
                "0": { "slidesPerView": 1.05 },
                "576": { "slidesPerView": 1.05 },
                "768": { "slidesPerView": 2.05 },
                "992": { "slidesPerView": 3.05 },
                "1200": { "slidesPerView": 4.05 }
            }
        }'>
            <div class="swiper-wrapper">
                @if (Model.RelatedJobs != null && Model.RelatedJobs.Any())
                {
                    foreach (var job in Model.RelatedJobs)
                    {

                        <!-- Single Slide -->
                        <div class="swiper-slide">
                            <div class="rts__job__card style__five">
                                <div class="d-flex align-items-center justify-content-between">
                                    <div class="company__icon">
                                        <img src="@job.Avatar" alt="Microsoft Logo">
                                    </div>
                                    <div class="featured__option">
                                        <span>@job.Opening Vacancy</span>
                                        @* <span>Featured</span> *@
                                    </div>
                                </div>
                                <div class="d-flex gap-3 mt-4 flex-wrap">
                                    <div class="d-flex gap-2 align-items-center font-sm" data-bs-toggle="tooltip" data-bs-placement="right" title="@job.City">
                                        <i class="fa-light fa-location-dot"></i> @Helper.DisplayLimitedText(@job.City)
                                    </div>
                                    <div class="d-flex gap-2 align-items-center font-sm">
                                        <i class="fa-light fa-briefcase"></i> @job.JobType
                                    </div>
                                </div>
                                <div class="font-20 fw-medium job__title mt-3 mb-2">
                                    <a asp-controller="Jobs" asp-action="Detail" asp-route-id="@job.Id" asp-route-slug="@job.Slug" aria-label="@job.Title" data-bs-toggle="tooltip" data-bs-placement="right" title="@job.Title" class="job__title">
                                        @Helper.DisplayLimitedText(@job.Title, 20)
                                    </a>
                                </div>
                                <div class="job__tags d-flex flex-wrap gap-2 mt-4">
                                    @foreach (var skill in job.Skills)
                                    {
                                        <a href="#">@skill</a>
                                    }
                                </div>
                            </div>
                        </div>
                    }
                }

            </div>
        </div>
    </div>
</div>
<!-- Related Jobs End -->
