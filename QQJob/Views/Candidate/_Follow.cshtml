@using QQJob.ViewModels.CandidateViewModels
@model FollowingEmployerListViewModel

@if (Model.Follows.Any())
{
    @foreach (var follow in Model.Follows)
    {
        var field = follow.Employer.CompanyField != null ? follow.Employer.CompanyField.Split(",").First() : "Field Not Specified";
        var openJob = follow.Employer.Jobs.Where(j => j.Status == Status.Approved).Count();
        <!-- single job -->
        <div class="single__applied__job">
            <div class="single__applied__job__content">
                <div class="icon">
                    <img src="@follow.Employer.User.Avatar" alt="">
                </div>
                <div class="content">
                    <a asp-action="EmployerDetail" asp-controller="Home" asp-route-id="@follow.EmployerId" asp-route-slug="@follow.Employer.User.Slug"> <h6>@follow.Employer.User.FullName</h6></a>
                    <div class="content__info">
                        <span><i class="fa-light fa-building"></i>@field</span>
                    </div>
                </div>
            </div>
            <div class="action">

                <a data-employer-id="@follow.EmployerId" class="action__btn follow-btn followed" style="color: inherit; text-decoration: none;">
                    <i class="fa-light fa-heart"></i>
                </a>
                <button class="action__operation pending">
                    @openJob Open Job
                </button>
            </div>
        </div>
        <!--single job end  -->
    }
}
else
{
    <p>No Employer followed</p>
}


<pagination current-page="@Model.Paging.CurrentPage" total-pages="@Model.Paging.TotalPages" action-name="Follow" controller-name="Candidate"></pagination>