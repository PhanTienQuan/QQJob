@using Microsoft.AspNetCore.Identity
@model IEnumerable<IdentityRole>
@{
    ViewBag.Title = "All Roles";
}
<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
        <h1>
            All Roles
        </h1>
        <ol class="breadcrumb">
            <li>
                <a asp-action="Index" asp-controller="Home" asp-area="Admin">
                    <i class="fa fa-dashboard"></i>
                    Home
                </a>
            </li>
            <li><a href="#">Manage Roles</a></li>
            <li class="active">All Roles</li>
        </ol>
    </section>
    <!-- Main content -->
     <section class="content"> 
         <div class="row"> 
             <div class="col-xs-12"> 
                 <div class="box"> 
                     @if (TempData["Message"] != null) 
                     { 
                         <div class="alert alert-success" role="alert"> 
                             <strong>@TempData["Message"]</strong> 
                         </div> 
                     } 
                     <div class="box-header"> 
                         <h3 class="box-title">Skill List</h3> 

                         <div class="box-tools"> 
                             <div class="input-group input-group-sm" 
                                  style="width: 150px"> 
                                 <input type="text" 
                                        name="table_search" 
                                        class="form-control pull-right" 
                                        placeholder="Search" /> 

                                 <div class="input-group-btn"> 
                                     <button type="submit" class="btn btn-default"> 
                                         <i class="fa fa-search"></i> 
                                     </button> 
                                 </div> 
                             </div> 
                         </div> 
                     </div> 
                     <!-- /.box-header --> 
                     <div class="box-body table-responsive no-padding"> 
                         <table class="table table-hover table-bordered"> 
                             <tr> 

                                 <th> 
                                     @Html.DisplayNameFor(model => model.Id) 
                                 </th> 

                                 <th> 
                                     @Html.DisplayNameFor(model => model.Name) 
                                 </th>
                             </tr> 
                             @if (Model.Any()) 
                             { 
                                 @foreach (var item in Model) 
                                 { 
                                     <tr> 
                                         <td> 
                                             @Html.DisplayFor(modelItem => item.Id) 
                                         </td> 
                                         <td> 
                                             @Html.DisplayFor(modelItem => item.Name) 
                                         </td> 
                                         <td class="text-center">
                                            <a asp-area="Admin" asp-controller="Role" asp-action="EditRole" asp-route-roleId="@item.Id" class='btn btn-sm btn-primary'>Edit</a>
                                            <form method="post" asp-action="DeleteRole" asp-route-roleId="@item.Id">
                                                <span id="confirmDeleteSpan_@item.Id" style="display:none"> 
                                                     <span>Are you sure you want to Delete?</span> 
                                                     <button type="submit" class="btn btn-danger">Yes</button> 
                                                     <a class="btn btn-primary" 
                                                        onclick="confirmDelete('@item.Id', false)">No</a> 
                                                 </span> 
                                                 <span id="deleteSpan_@item.Id">
                                                    <a class='btn btn-sm btn-danger'
                                                        onclick="confirmDelete('@item.Id', true)">Delete</a> 
                                                 </span> 
                                             </form> 
                                         </td> 
                                     </tr> 
                                 } 
                             } 
                             else 
                             { 
                                 <tr> 
                                     <td colspan="5" class="text-center">No Roles Added Yet</td> 
                                 </tr> 
                             } 

                         </table> 
                     </div> 

                     <!-- /.box-body --> 
                     <div class="box-footer clearfix"> 
                         <a asp-area="Admin" asp-controller="Role" asp-action="CreateRole" class='btn btn-sm btn-primary pull-left'>Create new role</a> 
                         <ul class="pagination pagination-sm no-margin pull-right"> 
                             <li><a href="#">&laquo;</a></li> 
                             <li><a href="#">1</a></li> 
                             <li><a href="#">2</a></li> 
                             <li><a href="#">3</a></li> 
                             <li><a href="#">&raquo;</a></li> 
                         </ul> 
                     </div> 
                 </div> 
                 <!-- /.box --> 
             </div> 
         </div> 
     </section> 
    <!-- /.content -->

</div>
@section Scripts {
    <script>
        function confirmDelete(uniqueId, isDeleteClicked) {
            var deleteSpan = 'deleteSpan_' + uniqueId;
            var confirmDeleteSpan = 'confirmDeleteSpan_' + uniqueId;
            if (isDeleteClicked) {
                $('#' + deleteSpan).hide();
                $('#' + confirmDeleteSpan).show();
            } else {
                $('#' + deleteSpan).show();
                $('#' + confirmDeleteSpan).hide();
            }
        }
    </script>
}